# Trade Bot ‚Äî Smart Money Trading Bot

–¢–æ—Ä–≥–æ–≤–∏–π –±–æ—Ç –¥–ª—è Binance –∑ AI —Å–∏–≥–Ω–∞–ª–∞–º–∏ —Ç–∞ Smart Money –∞–Ω–∞–ª—ñ–∑–æ–º.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏:

```env
# Binance API
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_API_SECRET=your_binance_api_secret_here

# Database
DATABASE_URL=sqlite:///./trading_bot.db

# OpenAI API (–¥–ª—è —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç –∞–Ω–∞–ª—ñ–∑—É)
OPENAI_API_KEY=your_openai_api_key_here

# Telegram Bot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
FASTAPI_URL=http://localhost:8000
```

### 3. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
python app/init_db.py
```

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –í–∞—Ä—ñ–∞–Ω—Ç 1: –ü—Ä—è–º–∏–π –∑–∞–ø—É—Å–∫
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# –í–∞—Ä—ñ–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫—É
python app/run.py
```

## ü§ñ Telegram Bot –ö–æ–º–∞–Ω–¥–∏

- `/start` –∞–±–æ `/help` - –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –∫–æ–º–∞–Ω–¥–∏
- `/ai_signal SYMBOL` - –ü–æ–≤–Ω–∏–π AI –∞–Ω–∞–ª—ñ–∑ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `/ai_signal BTCUSDT`)
- `/smart_money SYMBOL` - Smart Money –∞–Ω–∞–ª—ñ–∑ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `/smart_money ETHUSDT`)
- `/last SYMBOL` - –û—Å—Ç–∞–Ω–Ω—ñ–π –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π —Å–∏–≥–Ω–∞–ª
- `/cache_stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à—É
- `/cache_clear` - –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à

## üìä API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

- `GET /` - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- `GET /signal/{symbol}` - AI —Å–∏–≥–Ω–∞–ª –¥–ª—è —Å–∏–º–≤–æ–ª—É
- `GET /smart_money/{symbol}` - Smart Money –∞–Ω–∞–ª—ñ–∑
- `GET /signals/latest/{symbol}` - –û—Å—Ç–∞–Ω–Ω—ñ–π —Å–∏–≥–Ω–∞–ª –∑ –ë–î
- `GET /cache/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à—É
- `POST /cache/clear` - –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à

## üß† Smart Money –ú–æ–¥—É–ª—å

Smart Money –º–æ–¥—É–ª—å –≤–∫–ª—é—á–∞—î:

- –ú–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è (LogisticRegression)
- –¢–µ—Ö–Ω—ñ—á–Ω—ñ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ (RSI, MACD, ADX, ATR)
- –ê–Ω–∞–ª—ñ–∑ –¥–∏—Å–±–∞–ª–∞–Ω—Å—É –æ—Ä–¥–µ—Ä–±—É–∫–∞
- –°–µ–Ω—Ç–∏–º–µ–Ω—Ç –∞–Ω–∞–ª—ñ–∑ –Ω–æ–≤–∏–Ω
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ—Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ

## ‚ö° –°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è

–°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è –ø–æ–∫—Ä–∞—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:

- **–ö–µ—à—É–≤–∞–Ω–Ω—è OHLCV –¥–∞–Ω–∏—Ö** - –∑–º–µ–Ω—à—É—î –∑–∞–ø–∏—Ç–∏ –¥–æ Binance API
- **–ö–µ—à—É–≤–∞–Ω–Ω—è Smart Money —Å–∏–≥–Ω–∞–ª—ñ–≤** - –ø—Ä–∏—Å–∫–æ—Ä—é—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è** - –≤–∏–¥–∞–ª—è—î –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –¥–∞–Ω—ñ
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ** - –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∫–µ—à—É
- **–ù–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω—ñ TTL** - —Ä—ñ–∑–Ω–∏–π —á–∞—Å –∂–∏—Ç—Ç—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Smart Money –º–æ–¥—É–ª—è
python app/test_smart_money.py

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è
python app/test_cache.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
app/
‚îú‚îÄ‚îÄ main.py              # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ database.py          # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ models.py            # –ú–æ–¥–µ–ª—ñ –ë–î
‚îú‚îÄ‚îÄ telegram_bot.py      # Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ run.py               # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ test_smart_money.py  # –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Smart Money
‚îî‚îÄ‚îÄ services/
    ‚îú‚îÄ‚îÄ ai_signals.py    # AI —Å–∏–≥–Ω–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞
    ‚îú‚îÄ‚îÄ smart_money.py   # Smart Money –∞–Ω–∞–ª—ñ–∑
    ‚îú‚îÄ‚îÄ binance_api.py   # Binance API
    ‚îú‚îÄ‚îÄ new_sentiment.py # –°–µ–Ω—Ç–∏–º–µ–Ω—Ç –∞–Ω–∞–ª—ñ–∑
    ‚îî‚îÄ‚îÄ cache.py         # –°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### Smart Money –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```env
SM_SYMBOL=BTCUSDT
SM_TIMEFRAME=5m
SM_HORIZON_BARS=12
SM_POS_TH=0.002
SM_NEG_TH=-0.002
SM_RETRAIN_HOURS=6
```

### –í–∞–≥–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤

```env
SIGNAL_WEIGHTS={"tech":0.5,"smart":0.25,"gpt":0.25}
```

## üéØ –î–æ—Å—Ç—É–ø–Ω—ñ –ø–∞—Ä–∏

BTCUSDT, ETHUSDT, BNBUSDT, ADAUSDT, DOTUSDT —Ç–∞ —ñ–Ω—à—ñ –ø–∞—Ä–∏ –∑ Binance.
